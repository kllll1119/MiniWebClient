(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"50y9":function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var n=l(a("CtXQ")),c=n.default.createFromIconfontCN({scriptUrl:"https://at.alicdn.com/t/font_1349266_a0c340ytn1d.js"}),o=c;t.default=o},RXBc:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5Dmo");var n=l(a("3S7+")),c=l(a("MVZn")),o=l(a("lwsE")),i=l(a("W8MJ")),u=l(a("a1gu")),d=l(a("Nsbk")),s=l(a("7W2i")),r=l(a("q1tI")),f=a("V/h/"),m=l(a("50y9")),_=l(a("XfOM")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return a=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(n))),a.state={now:Date.now(),msgList:[],panelStatus:1},a.timer=null,a.tick=function(){var e=a.state.panelStatus,t=function t(){return 1===e&&a.setState((0,f.produce)(function(e){e.now=Date.now()})),t};a.timer=window.setInterval(t(),1e3)},a.clickPanel=function(){var e=a.state.panelStatus,t=0===e?1:0;window.TopBarRom.on("set_msg_panel_status",{data:{status:"".concat(t)}}),a.setState((0,f.produce)(function(e){e.panelStatus=t}))},a.reply=function(e){var t=e.cnick,l=e.snick,n=e.msg_index,c=e.buyer_one_id,o=void 0===c?"":c;window.TopBarRom.on("response_msg",{data:{cnick:t,snick:l,msg_index:n,buyer_one_id:o}}),a.setState((0,f.produce)(function(e){e.msgList=e.msgList.filter(function(e){return e.msg_index!==n})}))},a.clean=function(e,t,l){window.TopBarRom.on("clear_msg",{data:{clear_type:"1",cnick:e,snick:t,msg_index:l}}),a.setState((0,f.produce)(function(e){e.msgList=e.msgList.filter(function(e){return e.msg_index!==l})}))},a.clear=function(){window.TopBarRom.on("clear_msg",{data:{clear_type:"0"}}),a.setState((0,f.produce)(function(e){e.msgList=[]}))},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;window.TopBarRom.addEventListener("updata_msg",function(t){console.log(t.data.msg_list,"show data list"),e.setState((0,f.produce)(function(e){e.msgList=[]})),e.setState((0,f.produce)(function(e){var a=Date.now(),l=t.data.msg_list.map(function(e){return(0,c.default)({},e,{timestamp:a})});e.msgList=l}))}),this.tick()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.now,t.msgList),l=t.panelStatus;return r.default.createElement(r.default.Fragment,null,r.default.createElement("header",{className:_.default.header,onClick:this.clickPanel},r.default.createElement("span",{className:_.default.bell},r.default.createElement(m.default,{type:"iconbell",className:_.default.iconBell})),r.default.createElement("span",null,"\u8ddf\u8fdb\u63d0\u9192"),a.length>0&&r.default.createElement("span",{className:_.default.count},a.length>99?"99+":a.length),r.default.createElement("a",{className:"".concat(_.default.panelBtn," ").concat(0===l?_.default.collpase:_.default.expand)},r.default.createElement(m.default,{type:"iconicon-open",className:_.default.iconArrow}))),1===l&&r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:_.default.tHead},r.default.createElement("div",{className:_.default.row},r.default.createElement("div",{className:_.default.col},"\u63d0\u9192\u6d88\u606f"),r.default.createElement("div",{className:_.default.col},"\u89e6\u53d1\u65f6\u95f4"),r.default.createElement("div",{className:_.default.col},"\u987e\u5ba2\u540d\u79f0"),r.default.createElement("div",{className:_.default.col},"\u64cd\u4f5c"))),r.default.createElement("div",{className:"".concat(_.default.main," ").concat(_.default.tBody)},a.map(function(t){return r.default.createElement("div",{className:_.default.row,key:t.cnick},r.default.createElement("div",{className:_.default.col},r.default.createElement(n.default,{title:t.alert_info},t.alert_info)),r.default.createElement("div",{className:_.default.col},r.default.createElement(n.default,{title:t.alert_time},t.alert_time)),r.default.createElement("div",{className:_.default.col},r.default.createElement(n.default,{title:t.cnick},t.cnick)),r.default.createElement("div",{className:_.default.col},r.default.createElement("div",{className:_.default.btns},r.default.createElement("a",{className:_.default.btnReply,onClick:function(){return e.reply(t)}},"\u56de\u590d"),r.default.createElement("i",{className:_.default.split}),r.default.createElement("a",{className:_.default.btnClean,onClick:function(){return e.clean(t.cnick,t.snick,t.msg_index)}},"\u6e05\u9664"))))})),r.default.createElement("footer",{className:_.default.footer},r.default.createElement("div",null,r.default.createElement(n.default,{placement:"topLeft",arrowPointAtCenter:!0,title:"\u5982\u679c\u51fa\u73b0\u987e\u5ba2\u54a8\u8be2\u957f\u65f6\u95f4\u672a\u56de\u590d\uff0c\u6216\u8005\u56de\u590d\u201c\u7a0d\u7b49\u201d\u4e00\u7c7b\u7684\u8bdd\u672f\u540e\u5fd8\u8bb0\u8ddf\u8fdb\uff0c\u7cfb\u7edf\u5c06\u4f1a\u5728\u8be5\u5217\u8868\u81ea\u52a8\u63d0\u793a\uff0c\u56de\u590d\u540e\u63d0\u793a\u6d88\u606f\u6d88\u5931"},r.default.createElement(m.default,{type:"iconinfo-circle",className:_.default.iconTip}))),r.default.createElement("div",null,r.default.createElement(m.default,{type:"iconicon-eliminate",className:_.default.iconClear,title:"\u5168\u90e8\u6e05\u9664",onClick:this.clear})))))}}]),t}(r.default.Component),v=p;t.default=v},XfOM:function(e,t,a){e.exports={header:"header___2ZAQi",bell:"bell___1U5Z8",iconBell:"iconBell___ll_oI",count:"count___18LUP",panelBtn:"panelBtn___8R5ay",iconArrow:"iconArrow___3jlLB",collpase:"collpase___33kM8",row:"row___1DBFT",col:"col___Z-jMl",tHead:"tHead___3tLox",tBody:"tBody___DUqQV",main:"main___3HPOe",btns:"btns___1Uj7y",btnReply:"btnReply___3OKKc",btnClean:"btnClean___AU15y",split:"split___chFQQ",footer:"footer___m_FDZ",iconTip:"iconTip___UB9T_",iconClear:"iconClear___2Noi6"}}}]);